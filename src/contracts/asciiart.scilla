scilla_version 0
(***************************************************)
(*               Associated library                *)
(***************************************************)
library LoveZilliqa
let one = Uint256 1
let tt = True
contract LoveZilliqa
(authorName : String, twitterID : String)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMWXOOXWMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMN0xollolllokKWMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMMNOdllodkKNMMNKkolloxKNMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMWo..,oONMMMMMMMMMWKkollox0XNMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMWl;kOdllodONWMMMMMMMMWXOdlllox0NWMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMWl:KMMWXOdllldOXWMMMMMMMMWWXOdllldOXWMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMWl:KMMMMMMWN0dolldOXWMMMMMMMMMWN0dolldOXWMMMMMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMNl;0MMMMMMMMMMWN0xollokKWMMMMMMMMMMN0xollokKWMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMWOllodOXWMMMMMMMMMMNKxollodkKWMMMMMMMMMNKxollokKWMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMMMWNOdolldOXWMMMMMMMMMMWKkdollox0NMMMMMMMMMWKkolllxXWMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMWN0xollokKWMMMMMMMMMMMWXkdllox0NWMMMMMWXOo;'.lNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMN0xollokKWMMMMMMMMMMMWXOdllldO0kollodO0:cNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMWKkollox0NMMMMMMMMMMMWXOd;'cx0NMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWKkolloox0NWMMMMMMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMW0l,..l0WMMMMMMMWo;0MMMMMW0;cNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWN0xollodOXWMMMMMMMMWo;0MN0xolloOWMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMWNOdolldOXWMMMMMMMMMMMMMWl.colldkKNWWMMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMWXOdllldOXWMMMMMMMMMMMMMWXOdlccdOXWNKko:dNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMWXOdllod0NWMMMMMMMMMMMMMWNOdllox0NWX0xolloo,cNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMWXOdllox0NWMMMMMMMMMMMMMWN0dllld0NWMM0lcodOXWMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMWKdllox0NMMMMMMMMMMMMMMN0xoolldONWMMMMMWo,OMMMMMMX:cNMMMMMMMMMMM *)
(* MMMMMMMMMMMWl,kNMMMMMMMMMMMMMMN0xolldxOXWMMMMMMMMMWo;0MMMMMMX:cNMMMMMMMMMMM *)
(* MMMMMMMMMMMWl:KMMMMMMMMMMMN0xolldOXWMMMMMMMMMMMMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMWl:KMMMMMMMMW0l;;lkXWMMMMMMMMMMMMMMMMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMWl:KMMMMMMMMWXxlclokKWMMMMMMMMMMMMMMMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMWl,xXWMMMMMMMMMMWKkollox0NWMMMMMMMMMMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMKxolldkKWMMMMMMMMMMWKkdlllox0NMMMMMMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMN0xollokKNMMMMMMMMMMWX0Odllod0NWMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMWKkollox0NWMMMMMMMMMMWXOdllldOXNo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMWXkdllod0NWMMMMMMMMMMWN0doll',0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMWXOdllldOXWWMMMMMMMMMMN0;,0MMMMMMNccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWN0xollldkKWMMMMMMMWo;0MMMMMMXccNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMNX0xollokKWMMMWo;0MMMMNKd,lNMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWKkollox0Xo;0XOdollokXMMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWXkdll,.:lodOXWMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMWXOkKNWMMMMMMMMMMMMMMMMMMM *)
(* MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM *)
field author_name : String = authorName
field twitter_id : String = twitterID
field upvote_counter : Uint256 = Uint256 0
field vote_map : Map ByStr20 Bool = Emp ByStr20 Bool
transition upvote()
  has_voted <- exists vote_map[_sender];
  current_vote_count <- upvote_counter;
  match has_voted with
  | True =>
    e = {_eventname : "AlreadyVoted"; current_upvote_count: current_vote_count};
    event e
  | False =>
    new_vote_count = builtin add current_vote_count one;
    vote_map[_sender] := tt;
    upvote_counter := new_vote_count;
    e = {_eventname : "Voted"; shoutout : "Zilliqa loves you!"; new_vote_count: new_vote_count};
    event e
  end
end
transition whoami()
 author <- author_name;
 twitter <- twitter_id;
 e = {_eventname : "Whoami"; author_name : author; twitter_id : twitter};
 event e
end